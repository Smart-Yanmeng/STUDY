# 多表查询

> 多表关系

1. 一对多：在多的一方设置外键，关联一的一方的主键
2. 多对多：建立中间表，中间表包含两个外键，关联两张表的主键
3. 一对一：用于表结构拆分，在其中任何一方设置外键（UNIQUE），关联另一方的主键

> 查询

1. 内连接：

   隐式

   ```mysql
   SELECT ... FROM 表A, 表B WHERE 条件...
   ```

   显式

   ```mysql
   SELECT ... FROM 表A INNER JOIN 表B ON 条件...
   ```

2. 外连接：

   左外

   ```mysql
   SELECT ... FROM 表A LEFT JOIN 表B ON 条件...
   ```

   右外

   ```mysql
   SELECT ... FROM 表A RIGHT JOIN 表B ON 条件...
   ```

3. 自连接：

   ```mysql
   SELECT ... FROM 表A 别名1, 表A 别名2 WHERE 条件
   ```

4. 子查询：

   + 标量子查询

   子查询返回的的结果是单个值（数字、字符串、日期等），最简单的形式，这种子查询称为标量子查询。

   常用的操作符：=、<>、>、>=、<、<=

   + 列子查询

   子查询返回的结果是一列（可以是多行），这种子查询称为列子查询。

   常用的操作符：IN、NOT IN、ANY、SOME、ALL

   + 行子查询

   子查询返回的结果是一行（可以是多列），这种子查询称为行子查询。

   常用的操作符：=、<>、IN、NOT IN

   + 表子查询

   子查询返回的结果是多行多列，这种子查询称为表子查询